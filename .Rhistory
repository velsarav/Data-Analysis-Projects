suppressMessages(library(reshape2))
suppressMessages(library(plyr))
suppressMessages(library(readxl))
suppressMessages(library(ggplot2))
suppressMessages(library(tidyr))
suppressMessages(library(dplyr))
suppressMessages(library(gridExtra))
#Data Munging
agriculture_gdp <- read_excel('Agriculture (p of GDP).xlsx', sheet = 1)
# Fix name of country column
colnames(agriculture_gdp)[1] <- "Country"
# Reshape data
agriculture_gdp <- gather(agriculture_gdp, 'Year', 'GDP', 2:length(agriculture_gdp))
# Remove NA values
agriculture_gdp <- agriculture_gdp[complete.cases(agriculture_gdp), ]
#Plot the data
ggplot(agriculture_gdp, aes(Year, GDP)) +
geom_point()
#view data
head(agriculture_gdp)
View(agriculture_gdp)
#Mean and Median in Agriculture GDP
group_year <- group_by(agriculture_gdp, Year)
agriculture_gdp_year <- summarise(group_year,
agriculture_gdp_mean = mean(GDP),
agriculture_gdp_median = median(GDP),
n = n())
head(agriculture_gdp_year)
View(agriculture_gdp_year)
#Plot Mean and Median
ggplot()+
geom_point(aes(x = Year, y = agriculture_gdp_mean), data = agriculture_gdp_year) +
geom_point(aes(x = Year, y = agriculture_gdp_median), data = agriculture_gdp_year, color = 'red')
#Singapore and Thailand agriculture GDP
agriculture_gdp_sg = filter(agriculture_gdp, Country == "Singapore")
agriculture_gdp_th = filter(agriculture_gdp, Country == "Thailand")
#Join GDP
agriculture_gdp_sg_th <- left_join(agriculture_gdp_sg, agriculture_gdp_th, by = "Year")
#View combined GDP of Singapore and Thailand
head(agriculture_gdp_sg_th)
View(agriculture_gdp_sg_th)
#Correlation coefficient of two variables
corr_Value = as.character(round(cor(agriculture_gdp_sg_th$GDP.x,agriculture_gdp_sg_th$GDP.y), 2))
#Plot the correlation coefficient
agriculture_gdp_sg_th %>% ggplot(aes(x = GDP.y, y = GDP.x)) +
geom_point(aes(color = Year), show.legend = TRUE) +
geom_smooth(method = 'lm', color = 'red', se = 0.95) +
labs(x = "Agriculture GDP Singapore", y = "Agriculture GDP Thailand",
title = "Agriculture GDP Correlation neighboring economies",
subtitle = paste("Singapore and Thailand --> Agriculture GDP correlation",
corr_Value, sep = ": "))
knit_with_parameters('~/Learning/DataAnalysis/Project/Gapminder_two_variable.Rmd')
opts_chunk$set(tidy = FALSE, fig.width = 11)
suppressMessages(library(reshape))
suppressMessages(library(reshape2))
suppressMessages(library(ggplot2))
suppressMessages(library(dplyr))
suppressMessages(library(maps))
suppressMessages(library(RColorBrewer))
suppressMessages(library(GGally))
suppressMessages(library(scales))
suppressMessages(library(memisc))
air_quality_data <- read.csv('annual_aqi_by_county_2017.csv')
str(air_quality_data)
suppressMessages(library(reshape))
suppressMessages(library(reshape2))
suppressMessages(library(ggplot2))
suppressMessages(library(dplyr))
suppressMessages(library(maps))
suppressMessages(library(RColorBrewer))
suppressMessages(library(GGally))
suppressMessages(library(scales))
suppressMessages(library(memisc))
air_quality_data <- read.csv('annual_aqi_by_county_2017.csv')
str(air_quality_data)
summary(air_quality_data)
all_states <- map_data("state")
p <- ggplot()
p <- p + geom_polygon( data=all_states, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p
summary(air_quality_data)
str(air_quality_data)
ggplot(aes(x=lng, y=lat), data=air_quality_data) +
geom_point()
str(air_quality_data)
ggplot(aes(x=State, y=Days.with.AQI ), data=air_quality_data) +
geom_point()
